# ===========================================
# Viral Health Post Idea Bot - Environment Variables
# ===========================================
# Copy this file to .env and fill in your values

# -----------------------------------------
# REQUIRED: OpenAI API
# -----------------------------------------
OPENAI_API_KEY=sk-your-openai-api-key-here

# -----------------------------------------
# REQUIRED: Google Sheets
# -----------------------------------------
# The Sheet ID from your Google Sheets URL:
# https://docs.google.com/spreadsheets/d/THIS_IS_THE_SHEET_ID/edit
GOOGLE_SHEET_ID=your-google-sheet-id-here

# The service account JSON key - paste the entire JSON content here
# OR base64 encode it and set GOOGLE_SERVICE_ACCOUNT_BASE64=true
GOOGLE_SERVICE_ACCOUNT_JSON={"type":"service_account","project_id":"...","private_key_id":"...","private_key":"-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n","client_email":"...@...iam.gserviceaccount.com","client_id":"...","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://oauth2.googleapis.com/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_x509_cert_url":"..."}

# Set to true if GOOGLE_SERVICE_ACCOUNT_JSON is base64 encoded
GOOGLE_SERVICE_ACCOUNT_BASE64=false

# Tab name in your Google Sheet (created if doesn't exist)
GOOGLE_SHEET_TAB_NAME=PostIdeas

# -----------------------------------------
# OPTIONAL: Database
# -----------------------------------------
# Leave empty to use SQLite (default)
# Or set to a PostgreSQL URL for Railway Postgres:
# DATABASE_URL=postgresql://user:pass@host:5432/dbname
DATABASE_URL=

# SQLite database file path (only used if DATABASE_URL is empty)
DATABASE_PATH=./data/viral_bot.db

# -----------------------------------------
# OPTIONAL: Bot Configuration
# -----------------------------------------
# Only fetch content from the last N hours
FRESHNESS_HOURS=48

# Maximum number of post ideas to generate per run
MAX_OUTPUTS_PER_RUN=5

# Minimum virality score (0-100) to include in outputs
MIN_VIRALITY_SCORE=40

# Semantic similarity threshold for deduplication (0.0-1.0)
# Higher = stricter deduplication
DEDUP_SIMILARITY_THRESHOLD=0.85

# Days to keep items in "recently used" dedup store
DEDUP_RETENTION_DAYS=30

# -----------------------------------------
# OPTIONAL: Health Server
# -----------------------------------------
# Enable the FastAPI health check server
ENABLE_HEALTH_SERVER=true

# Port for the health server
PORT=8000

# -----------------------------------------
# OPTIONAL: Built-in Scheduler
# -----------------------------------------
# Enable the built-in APScheduler (alternative to Railway cron)
ENABLE_SCHEDULER=false

# Hours to run at (UTC), comma-separated
SCHEDULE_HOURS=9,18

# -----------------------------------------
# OPTIONAL: Logging
# -----------------------------------------
# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# Output logs as JSON (good for production)
LOG_JSON=false

# -----------------------------------------
# OPTIONAL: Rate Limiting
# -----------------------------------------
# Max concurrent HTTP requests for feed fetching
MAX_CONCURRENT_FETCHES=5

# Delay between OpenAI API calls (seconds)
OPENAI_CALL_DELAY=0.5
